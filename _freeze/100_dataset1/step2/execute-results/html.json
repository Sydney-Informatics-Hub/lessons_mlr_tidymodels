{
  "hash": "7f83404b8a32ce098fa66647fbf5c51a",
  "result": {
    "markdown": "\n:::{.callout-note}\n## Learning objective:\n\n- from base R lm() to tidymodels;\n- split into test and training set;\n- rsample package functions training() and testing();\n- setting up a model specification;\n- yardstick package;\n- metrics();\n- resampling;\n- collect-predictions();\n- visualise your results\n:::\n\n:::{.callout-tip}\n## Exercise:\n\nIn this case study, you will predict houses selling price from characteristics of these houses, like ... What kind of model will you build?\n:::\n\n\n\n\n\n### Build a simple linear model usign base R's `lm()` function\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#fit a linear model\nfit_all <- lm(Sale_Price ~ ., data = ameshousing)\n\n#Print the summary of the model\nsummary(fit_all)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = Sale_Price ~ ., data = ameshousing)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-303624   -9147      83    8942  145991 \n\nCoefficients: (7 not defined because of singularities)\n                                                       Estimate Std. Error\n(Intercept)                                          -9.836e+06  9.004e+06\nMS_SubClassOne_Story_1945_and_Older                   4.293e+03  2.909e+03\nMS_SubClassOne_Story_with_Finished_Attic_All_Ages     1.194e+04  9.840e+03\nMS_SubClassOne_and_Half_Story_Unfinished_All_Ages     1.222e+04  1.159e+04\nMS_SubClassOne_and_Half_Story_Finished_All_Ages       7.603e+03  5.291e+03\nMS_SubClassTwo_Story_1946_and_Newer                  -1.722e+02  4.575e+03\nMS_SubClassTwo_Story_1945_and_Older                   8.881e+03  5.042e+03\nMS_SubClassTwo_and_Half_Story_All_Ages               -1.657e+03  8.694e+03\nMS_SubClassSplit_or_Multilevel                       -9.774e+03  8.861e+03\nMS_SubClassSplit_Foyer                               -3.803e+03  6.206e+03\nMS_SubClassDuplex_All_Styles_and_Ages                -1.813e+04  4.671e+03\nMS_SubClassOne_Story_PUD_1946_and_Newer              -1.775e+04  8.535e+03\nMS_SubClassOne_and_Half_Story_PUD_All_Ages           -4.064e+04  2.512e+04\nMS_SubClassTwo_Story_PUD_1946_and_Newer              -1.969e+04  1.003e+04\nMS_SubClassPUD_Multilevel_Split_Level_Foyer          -2.176e+04  1.173e+04\nMS_SubClassTwo_Family_conversion_All_Styles_and_Ages -5.181e+03  1.465e+04\nMS_ZoningResidential_High_Density                     4.288e+03  6.181e+03\nMS_ZoningResidential_Low_Density                      1.469e+03  4.141e+03\nMS_ZoningResidential_Medium_Density                  -1.939e+03  4.736e+03\nMS_ZoningA_agr                                       -3.044e+04  3.614e+04\nMS_ZoningC_all                                       -8.825e+03  7.379e+03\nMS_ZoningI_all                                       -2.315e+03  2.189e+04\nLot_Frontage                                          1.198e+01  1.468e+01\nLot_Area                                              5.652e-01  7.803e-02\nStreetPave                                            1.790e+04  7.378e+03\nAlleyNo_Alley_Access                                 -1.054e+03  2.496e+03\nAlleyPaved                                            2.296e+01  3.841e+03\nLot_ShapeSlightly_Irregular                          -1.293e+03  1.050e+03\nLot_ShapeModerately_Irregular                         3.644e+03  2.773e+03\nLot_ShapeIrregular                                    3.611e+03  5.862e+03\nLand_ContourHLS                                       7.625e+03  3.205e+03\nLand_ContourLow                                      -4.570e+03  4.174e+03\nLand_ContourLvl                                       4.528e+03  2.351e+03\nUtilitiesNoSeWa                                      -3.020e+04  2.382e+04\nUtilitiesNoSewr                                      -1.176e+04  1.972e+04\nLot_ConfigCulDSac                                     4.119e+03  2.092e+03\nLot_ConfigFR2                                        -6.163e+03  2.688e+03\nLot_ConfigFR3                                        -4.250e+03  6.097e+03\nLot_ConfigInside                                     -4.659e+02  1.123e+03\nLand_SlopeMod                                         4.971e+03  2.561e+03\nLand_SlopeSev                                        -2.517e+04  7.808e+03\nNeighborhoodCollege_Creek                             1.324e+04  7.559e+03\nNeighborhoodOld_Town                                 -4.830e+02  3.516e+03\nNeighborhoodEdwards                                   4.123e+03  5.981e+03\nNeighborhoodSomerset                                  1.910e+04  4.643e+03\nNeighborhoodNorthridge_Heights                        2.203e+04  4.514e+03\nNeighborhoodGilbert                                  -1.319e+03  3.832e+03\nNeighborhoodSawyer                                    1.015e+04  5.522e+03\nNeighborhoodNorthwest_Ames                           -2.271e+03  2.902e+03\nNeighborhoodSawyer_West                               8.263e+03  6.778e+03\nNeighborhoodMitchell                                  1.337e+04  7.086e+03\nNeighborhoodBrookside                                 1.030e+04  3.695e+03\nNeighborhoodCrawford                                  2.823e+04  5.343e+03\nNeighborhoodIowa_DOT_and_Rail_Road                    7.136e+03  4.914e+03\nNeighborhoodTimberland                                2.080e+04  7.942e+03\nNeighborhoodNorthridge                                3.261e+04  4.743e+03\nNeighborhoodStone_Brook                               4.063e+04  4.792e+03\nNeighborhoodSouth_and_West_of_Iowa_State_University   8.187e+03  6.134e+03\nNeighborhoodClear_Creek                               1.366e+04  6.859e+03\nNeighborhoodMeadow_Village                            2.080e+04  8.523e+03\nNeighborhoodBriardale                                 1.742e+04  6.216e+03\nNeighborhoodBloomington_Heights                       9.349e+03  5.946e+03\nNeighborhoodVeenker                                   4.341e+03  5.863e+03\nNeighborhoodNorthpark_Villa                           2.521e+04  9.256e+03\nNeighborhoodBlueste                                   3.034e+04  9.482e+03\nNeighborhoodGreens                                    1.873e+04  9.274e+03\nNeighborhoodGreen_Hills                               1.328e+05  1.680e+04\nNeighborhoodLandmark                                  1.607e+04  2.291e+04\nCondition_1Feedr                                      3.307e+03  3.084e+03\nCondition_1Norm                                       1.230e+04  2.567e+03\nCondition_1PosA                                       1.512e+04  5.860e+03\nCondition_1PosN                                       1.553e+04  4.529e+03\nCondition_1RRAe                                      -1.866e+03  5.077e+03\nCondition_1RRAn                                       7.700e+03  4.266e+03\nCondition_1RRNe                                       1.890e+03  9.394e+03\nCondition_1RRNn                                       1.290e+00  7.831e+03\nCondition_2Feedr                                     -6.461e+03  1.192e+04\nCondition_2Norm                                       2.930e+03  1.035e+04\nCondition_2PosA                                       2.946e+04  1.617e+04\nCondition_2PosN                                      -1.259e+05  1.550e+04\nCondition_2RRAe                                      -4.266e+04  3.054e+04\nCondition_2RRAn                                       2.470e+03  2.387e+04\nCondition_2RRNn                                       1.446e+04  1.850e+04\nBldg_TypeTwoFmCon                                    -2.019e+03  1.459e+04\nBldg_TypeDuplex                                              NA         NA\nBldg_TypeTwnhs                                       -7.244e+03  8.993e+03\nBldg_TypeTwnhsE                                      -1.493e+03  8.496e+03\nHouse_StyleOne_and_Half_Unf                           5.423e+03  1.104e+04\nHouse_StyleOne_Story                                  1.022e+04  5.321e+03\nHouse_StyleSFoyer                                     1.207e+04  6.976e+03\nHouse_StyleSLvl                                       1.577e+04  9.316e+03\nHouse_StyleTwo_and_Half_Fin                          -7.546e+03  1.165e+04\nHouse_StyleTwo_and_Half_Unf                           6.292e+03  8.300e+03\nHouse_StyleTwo_Story                                  5.972e+02  4.883e+03\nOverall_QualPoor                                     -1.375e+04  1.926e+04\nOverall_QualFair                                     -1.284e+04  1.859e+04\nOverall_QualBelow_Average                            -1.474e+04  1.848e+04\nOverall_QualAverage                                  -1.236e+04  1.856e+04\nOverall_QualAbove_Average                            -9.535e+03  1.863e+04\nOverall_QualGood                                     -4.170e+03  1.867e+04\nOverall_QualVery_Good                                 8.948e+03  1.873e+04\nOverall_QualExcellent                                 4.227e+04  1.900e+04\nOverall_QualVery_Excellent                            7.199e+04  1.961e+04\nOverall_CondPoor                                     -8.588e+03  1.479e+04\nOverall_CondFair                                     -8.786e+03  1.154e+04\nOverall_CondBelow_Average                             3.393e+03  1.144e+04\nOverall_CondAverage                                   1.173e+04  1.134e+04\nOverall_CondAbove_Average                             1.726e+04  1.139e+04\nOverall_CondGood                                      2.505e+04  1.144e+04\nOverall_CondVery_Good                                 2.827e+04  1.155e+04\nOverall_CondExcellent                                 3.634e+04  1.206e+04\nYear_Built                                            4.018e+02  5.267e+01\nYear_Remod_Add                                        6.545e+01  3.471e+01\nRoof_StyleGable                                       9.138e+03  9.895e+03\nRoof_StyleGambrel                                     4.774e+03  1.111e+04\nRoof_StyleHip                                         9.381e+03  9.967e+03\nRoof_StyleMansard                                    -2.559e+03  1.227e+04\nRoof_StyleShed                                        2.778e+04  1.707e+04\nRoof_MatlCompShg                                      6.898e+05  3.162e+04\nRoof_MatlMembran                                      7.508e+05  4.061e+04\nRoof_MatlMetal                                        7.325e+05  4.042e+04\nRoof_MatlRoll                                         6.959e+05  3.847e+04\nRoof_MatlTar&Grv                                      6.900e+05  3.273e+04\nRoof_MatlWdShake                                      6.875e+05  3.277e+04\nRoof_MatlWdShngl                                      7.346e+05  3.260e+04\nExterior_1stAsphShn                                  -1.194e+04  2.332e+04\nExterior_1stBrkComm                                   7.759e+03  1.330e+04\nExterior_1stBrkFace                                   1.383e+04  7.867e+03\nExterior_1stCBlock                                   -5.702e+03  2.748e+04\nExterior_1stCemntBd                                   1.205e+03  1.241e+04\nExterior_1stHdBoard                                  -6.228e+03  7.684e+03\nExterior_1stImStucc                                  -2.456e+04  2.334e+04\nExterior_1stMetalSd                                   1.551e+03  8.632e+03\nExterior_1stPlywood                                  -4.318e+03  7.530e+03\nExterior_1stPreCast                                   6.239e+04  2.293e+04\nExterior_1stStone                                    -2.294e+03  1.861e+04\nExterior_1stStucco                                    1.305e+03  8.527e+03\nExterior_1stVinylSd                                  -9.551e+03  8.381e+03\nExterior_1stWd Sdng                                  -2.899e+03  7.431e+03\nExterior_1stWdShing                                  -6.136e+03  8.014e+03\nExterior_2ndAsphShn                                   1.659e+04  1.761e+04\nExterior_2ndBrk Cmn                                  -3.326e+02  1.213e+04\nExterior_2ndBrkFace                                  -4.499e+02  8.629e+03\nExterior_2ndCBlock                                    8.888e+03  2.247e+04\nExterior_2ndCmentBd                                   2.371e+02  1.258e+04\nExterior_2ndHdBoard                                   5.302e+03  7.908e+03\nExterior_2ndImStucc                                   8.676e+03  9.559e+03\nExterior_2ndMetalSd                                   1.086e+03  8.815e+03\nExterior_2ndOther                                    -1.118e+04  2.302e+04\nExterior_2ndPlywood                                   3.272e+03  7.620e+03\nExterior_2ndPreCast                                          NA         NA\nExterior_2ndStone                                    -5.752e+03  1.295e+04\nExterior_2ndStucco                                    3.308e+03  8.698e+03\nExterior_2ndVinylSd                                   1.154e+04  8.555e+03\nExterior_2ndWd Sdng                                   4.171e+03  7.676e+03\nExterior_2ndWd Shng                                   6.923e+03  8.038e+03\nMas_Vnr_TypeBrkFace                                   3.107e+03  4.521e+03\nMas_Vnr_TypeCBlock                                   -7.058e+04  2.688e+04\nMas_Vnr_TypeNone                                      6.745e+03  4.530e+03\nMas_Vnr_TypeStone                                     8.371e+03  4.746e+03\nMas_Vnr_Area                                          1.958e+01  3.756e+00\nExter_QualFair                                       -6.031e+03  6.081e+03\nExter_QualGood                                       -1.046e+04  3.345e+03\nExter_QualTypical                                    -1.162e+04  3.670e+03\nExter_CondFair                                        1.003e+03  7.552e+03\nExter_CondGood                                        3.167e+03  6.803e+03\nExter_CondPoor                                       -8.777e+03  1.857e+04\nExter_CondTypical                                     5.240e+03  6.806e+03\nFoundationCBlock                                     -8.659e+01  1.969e+03\nFoundationPConc                                       1.619e+03  2.133e+03\nFoundationSlab                                       -3.174e+03  5.930e+03\nFoundationStone                                       1.089e+04  7.102e+03\nFoundationWood                                       -1.776e+04  1.006e+04\nBsmt_QualFair                                        -9.787e+03  3.737e+03\nBsmt_QualGood                                        -1.276e+04  2.103e+03\nBsmt_QualNo_Basement                                  1.783e+04  3.860e+04\nBsmt_QualPoor                                        -7.999e+03  1.798e+04\nBsmt_QualTypical                                     -1.105e+04  2.626e+03\nBsmt_CondFair                                         1.349e+03  1.302e+04\nBsmt_CondGood                                         8.209e+02  1.292e+04\nBsmt_CondNo_Basement                                         NA         NA\nBsmt_CondPoor                                        -1.390e+03  1.769e+04\nBsmt_CondTypical                                      7.412e+02  1.278e+04\nBsmt_ExposureGd                                       1.013e+04  1.877e+03\nBsmt_ExposureMn                                      -5.889e+03  1.885e+03\nBsmt_ExposureNo                                      -4.784e+03  1.419e+03\nBsmt_ExposureNo_Basement                             -1.113e+04  1.223e+04\nBsmtFin_Type_1BLQ                                    -3.908e+03  6.650e+03\nBsmtFin_Type_1GLQ                                    -3.384e+03  1.295e+04\nBsmtFin_Type_1LwQ                                    -1.460e+04  1.940e+04\nBsmtFin_Type_1No_Basement                                    NA         NA\nBsmtFin_Type_1Rec                                    -2.036e+04  3.222e+04\nBsmtFin_Type_1Unf                                    -1.775e+04  3.865e+04\nBsmtFin_SF_1                                          3.550e+03  6.436e+03\nBsmtFin_Type_2BLQ                                    -7.072e+03  4.152e+03\nBsmtFin_Type_2GLQ                                     6.535e+03  5.055e+03\nBsmtFin_Type_2LwQ                                    -9.866e+03  4.052e+03\nBsmtFin_Type_2No_Basement                            -2.649e+04  2.166e+04\nBsmtFin_Type_2Rec                                    -8.215e+03  3.863e+03\nBsmtFin_Type_2Unf                                    -3.995e+03  3.967e+03\nBsmtFin_SF_2                                         -5.693e+00  4.647e+00\nBsmt_Unf_SF                                          -2.028e+01  1.898e+00\nTotal_Bsmt_SF                                         3.889e+01  3.012e+00\nHeatingGasA                                           1.080e+04  2.233e+04\nHeatingGasW                                           1.008e+04  2.279e+04\nHeatingGrav                                           8.183e+03  2.392e+04\nHeatingOthW                                          -1.345e+04  2.740e+04\nHeatingWall                                           2.083e+04  2.496e+04\nHeating_QCFair                                       -4.836e+03  2.849e+03\nHeating_QCGood                                       -1.762e+03  1.296e+03\nHeating_QCPoor                                       -1.589e+04  1.553e+04\nHeating_QCTypical                                    -3.240e+03  1.276e+03\nCentral_AirY                                         -2.879e+03  2.269e+03\nElectricalFuseF                                      -1.420e+03  3.762e+03\nElectricalFuseP                                      -1.841e+03  8.563e+03\nElectricalMix                                         3.208e+04  3.011e+04\nElectricalSBrkr                                      -9.048e+02  1.846e+03\nElectricalUnknown                                     5.572e+03  2.138e+04\nFirst_Flr_SF                                          4.946e+01  3.171e+00\nSecond_Flr_SF                                         6.087e+01  3.503e+00\nLow_Qual_Fin_SF                                       3.005e+01  1.052e+01\nGr_Liv_Area                                                  NA         NA\nBsmt_Full_Bath                                        1.545e+03  1.203e+03\nBsmt_Half_Bath                                       -1.711e+02  1.834e+03\nFull_Bath                                             3.923e+03  1.352e+03\nHalf_Bath                                             2.495e+03  1.285e+03\nBedroom_AbvGr                                        -2.820e+03  8.567e+02\nKitchen_AbvGr                                        -8.627e+03  3.978e+03\nKitchen_QualFair                                     -1.638e+04  3.943e+03\nKitchen_QualGood                                     -1.328e+04  2.364e+03\nKitchen_QualPoor                                      2.238e+04  2.276e+04\nKitchen_QualTypical                                  -1.469e+04  2.603e+03\nTotRms_AbvGrd                                         6.877e+02  5.745e+02\nFunctionalMaj2                                        1.156e+02  9.771e+03\nFunctionalMin1                                        1.614e+04  6.238e+03\nFunctionalMin2                                        1.250e+04  6.297e+03\nFunctionalMod                                         7.954e+03  6.892e+03\nFunctionalSal                                        -1.076e+04  2.334e+04\nFunctionalSev                                        -1.526e+04  1.764e+04\nFunctionalTyp                                         2.333e+04  5.643e+03\nFireplaces                                            7.896e+03  1.591e+03\nFireplace_QuFair                                     -3.676e+03  4.405e+03\nFireplace_QuGood                                     -3.025e+02  3.520e+03\nFireplace_QuNo_Fireplace                              5.283e+03  4.010e+03\nFireplace_QuPoor                                      2.153e+02  4.866e+03\nFireplace_QuTypical                                  -1.224e+03  3.622e+03\nGarage_TypeBasment                                    1.306e+03  4.243e+03\nGarage_TypeBuiltIn                                   -7.939e+02  2.063e+03\nGarage_TypeCarPort                                   -4.466e+03  6.080e+03\nGarage_TypeDetchd                                    -9.058e+01  1.472e+03\nGarage_TypeMore_Than_Two_Types                       -1.187e+04  4.945e+03\nGarage_TypeNo_Garage                                  1.094e+04  1.764e+04\nGarage_FinishNo_Garage                               -2.119e+04  2.219e+04\nGarage_FinishRFn                                     -1.531e+03  1.243e+03\nGarage_FinishUnf                                      4.216e+02  1.488e+03\nGarage_Cars                                           3.766e+03  1.431e+03\nGarage_Area                                           1.415e+01  4.793e+00\nGarage_QualFair                                      -5.521e+04  1.875e+04\nGarage_QualGood                                      -4.200e+04  1.857e+04\nGarage_QualNo_Garage                                         NA         NA\nGarage_QualPoor                                      -6.145e+04  2.312e+04\nGarage_QualTypical                                   -5.382e+04  1.858e+04\nGarage_CondFair                                       3.590e+04  1.798e+04\nGarage_CondGood                                       3.170e+04  1.846e+04\nGarage_CondNo_Garage                                         NA         NA\nGarage_CondPoor                                       3.532e+04  1.934e+04\nGarage_CondTypical                                    3.819e+04  1.771e+04\nPaved_DrivePartial_Pavement                          -2.010e+03  3.315e+03\nPaved_DrivePaved                                     -4.863e+02  2.102e+03\nWood_Deck_SF                                          7.655e+00  3.667e+00\nOpen_Porch_SF                                         8.550e-01  7.007e+00\nEnclosed_Porch                                        1.056e+01  7.388e+00\nThree_season_porch                                    1.967e+01  1.654e+01\nScreen_Porch                                          4.506e+01  7.679e+00\nPool_Area                                            -1.795e+01  5.457e+01\nPool_QCFair                                          -4.416e+04  2.953e+04\nPool_QCGood                                          -3.743e+04  2.596e+04\nPool_QCNo_Pool                                       -8.124e+04  2.229e+04\nPool_QCTypical                                       -6.947e+04  1.847e+04\nFenceGood_Wood                                        2.156e+03  2.984e+03\nFenceMinimum_Privacy                                  2.773e+03  2.423e+03\nFenceMinimum_Wood_Wire                               -3.897e+02  6.603e+03\nFenceNo_Fence                                         8.514e+02  2.184e+03\nMisc_FeatureGar2                                      5.565e+05  2.893e+04\nMisc_FeatureNone                                      5.565e+05  3.661e+04\nMisc_FeatureOthr                                      5.690e+05  3.459e+04\nMisc_FeatureShed                                      5.563e+05  3.570e+04\nMisc_FeatureTenC                                      4.948e+05  4.628e+04\nMisc_Val                                              9.341e-01  1.652e+00\nMo_Sold                                              -1.398e+02  1.529e+02\nYear_Sold                                            -5.532e+02  3.213e+02\nSale_TypeCon                                          2.867e+04  1.007e+04\nSale_TypeConLD                                        6.356e+03  5.293e+03\nSale_TypeConLI                                       -4.035e+03  7.682e+03\nSale_TypeConLw                                        5.336e+03  8.335e+03\nSale_TypeCWD                                          7.068e+03  6.734e+03\nSale_TypeNew                                          1.228e+04  9.638e+03\nSale_TypeOth                                          4.671e+03  8.469e+03\nSale_TypeVWD                                         -6.185e+03  2.172e+04\nSale_TypeWD                                           2.034e+03  2.609e+03\nSale_ConditionAdjLand                                 2.100e+04  7.209e+03\nSale_ConditionAlloca                                  1.305e+04  5.395e+03\nSale_ConditionFamily                                  2.933e+03  3.637e+03\nSale_ConditionNormal                                  8.738e+03  1.858e+03\nSale_ConditionPartial                                 8.433e+03  9.281e+03\nLongitude                                             4.054e+04  8.903e+04\nLatitude                                              3.006e+05  1.308e+05\n                                                     t value Pr(>|t|)    \n(Intercept)                                           -1.092 0.274765    \nMS_SubClassOne_Story_1945_and_Older                    1.476 0.140104    \nMS_SubClassOne_Story_with_Finished_Attic_All_Ages      1.213 0.225066    \nMS_SubClassOne_and_Half_Story_Unfinished_All_Ages      1.054 0.291851    \nMS_SubClassOne_and_Half_Story_Finished_All_Ages        1.437 0.150831    \nMS_SubClassTwo_Story_1946_and_Newer                   -0.038 0.969977    \nMS_SubClassTwo_Story_1945_and_Older                    1.761 0.078288 .  \nMS_SubClassTwo_and_Half_Story_All_Ages                -0.191 0.848884    \nMS_SubClassSplit_or_Multilevel                        -1.103 0.270094    \nMS_SubClassSplit_Foyer                                -0.613 0.540115    \nMS_SubClassDuplex_All_Styles_and_Ages                 -3.882 0.000106 ***\nMS_SubClassOne_Story_PUD_1946_and_Newer               -2.079 0.037680 *  \nMS_SubClassOne_and_Half_Story_PUD_All_Ages            -1.618 0.105745    \nMS_SubClassTwo_Story_PUD_1946_and_Newer               -1.962 0.049877 *  \nMS_SubClassPUD_Multilevel_Split_Level_Foyer           -1.855 0.063717 .  \nMS_SubClassTwo_Family_conversion_All_Styles_and_Ages  -0.354 0.723640    \nMS_ZoningResidential_High_Density                      0.694 0.487963    \nMS_ZoningResidential_Low_Density                       0.355 0.722763    \nMS_ZoningResidential_Medium_Density                   -0.409 0.682283    \nMS_ZoningA_agr                                        -0.842 0.399789    \nMS_ZoningC_all                                        -1.196 0.231851    \nMS_ZoningI_all                                        -0.106 0.915787    \nLot_Frontage                                           0.816 0.414490    \nLot_Area                                               7.243 5.75e-13 ***\nStreetPave                                             2.426 0.015342 *  \nAlleyNo_Alley_Access                                  -0.422 0.672879    \nAlleyPaved                                             0.006 0.995231    \nLot_ShapeSlightly_Irregular                           -1.231 0.218336    \nLot_ShapeModerately_Irregular                          1.314 0.188959    \nLot_ShapeIrregular                                     0.616 0.537975    \nLand_ContourHLS                                        2.379 0.017428 *  \nLand_ContourLow                                       -1.095 0.273603    \nLand_ContourLvl                                        1.926 0.054196 .  \nUtilitiesNoSeWa                                       -1.268 0.204981    \nUtilitiesNoSewr                                       -0.597 0.550866    \nLot_ConfigCulDSac                                      1.969 0.049037 *  \nLot_ConfigFR2                                         -2.293 0.021926 *  \nLot_ConfigFR3                                         -0.697 0.485773    \nLot_ConfigInside                                      -0.415 0.678397    \nLand_SlopeMod                                          1.941 0.052343 .  \nLand_SlopeSev                                         -3.224 0.001280 ** \nNeighborhoodCollege_Creek                              1.752 0.079902 .  \nNeighborhoodOld_Town                                  -0.137 0.890743    \nNeighborhoodEdwards                                    0.689 0.490706    \nNeighborhoodSomerset                                   4.114 4.01e-05 ***\nNeighborhoodNorthridge_Heights                         4.880 1.12e-06 ***\nNeighborhoodGilbert                                   -0.344 0.730662    \nNeighborhoodSawyer                                     1.839 0.066083 .  \nNeighborhoodNorthwest_Ames                            -0.783 0.433904    \nNeighborhoodSawyer_West                                1.219 0.222976    \nNeighborhoodMitchell                                   1.886 0.059363 .  \nNeighborhoodBrookside                                  2.787 0.005353 ** \nNeighborhoodCrawford                                   5.283 1.38e-07 ***\nNeighborhoodIowa_DOT_and_Rail_Road                     1.452 0.146575    \nNeighborhoodTimberland                                 2.619 0.008869 ** \nNeighborhoodNorthridge                                 6.876 7.68e-12 ***\nNeighborhoodStone_Brook                                8.479  < 2e-16 ***\nNeighborhoodSouth_and_West_of_Iowa_State_University    1.335 0.182085    \nNeighborhoodClear_Creek                                1.991 0.046589 *  \nNeighborhoodMeadow_Village                             2.440 0.014734 *  \nNeighborhoodBriardale                                  2.803 0.005096 ** \nNeighborhoodBloomington_Heights                        1.572 0.115973    \nNeighborhoodVeenker                                    0.740 0.459168    \nNeighborhoodNorthpark_Villa                            2.724 0.006501 ** \nNeighborhoodBlueste                                    3.200 0.001390 ** \nNeighborhoodGreens                                     2.019 0.043571 *  \nNeighborhoodGreen_Hills                                7.905 3.90e-15 ***\nNeighborhoodLandmark                                   0.701 0.483090    \nCondition_1Feedr                                       1.072 0.283705    \nCondition_1Norm                                        4.791 1.75e-06 ***\nCondition_1PosA                                        2.579 0.009955 ** \nCondition_1PosN                                        3.430 0.000614 ***\nCondition_1RRAe                                       -0.367 0.713306    \nCondition_1RRAn                                        1.805 0.071203 .  \nCondition_1RRNe                                        0.201 0.840547    \nCondition_1RRNn                                        0.000 0.999869    \nCondition_2Feedr                                      -0.542 0.587921    \nCondition_2Norm                                        0.283 0.777186    \nCondition_2PosA                                        1.821 0.068668 .  \nCondition_2PosN                                       -8.121 7.04e-16 ***\nCondition_2RRAe                                       -1.397 0.162532    \nCondition_2RRAn                                        0.103 0.917584    \nCondition_2RRNn                                        0.782 0.434542    \nBldg_TypeTwoFmCon                                     -0.138 0.889960    \nBldg_TypeDuplex                                           NA       NA    \nBldg_TypeTwnhs                                        -0.806 0.420600    \nBldg_TypeTwnhsE                                       -0.176 0.860479    \nHouse_StyleOne_and_Half_Unf                            0.491 0.623177    \nHouse_StyleOne_Story                                   1.920 0.055018 .  \nHouse_StyleSFoyer                                      1.731 0.083650 .  \nHouse_StyleSLvl                                        1.693 0.090641 .  \nHouse_StyleTwo_and_Half_Fin                           -0.648 0.517291    \nHouse_StyleTwo_and_Half_Unf                            0.758 0.448505    \nHouse_StyleTwo_Story                                   0.122 0.902673    \nOverall_QualPoor                                      -0.714 0.475455    \nOverall_QualFair                                      -0.691 0.489866    \nOverall_QualBelow_Average                             -0.797 0.425351    \nOverall_QualAverage                                   -0.666 0.505357    \nOverall_QualAbove_Average                             -0.512 0.608745    \nOverall_QualGood                                      -0.223 0.823215    \nOverall_QualVery_Good                                  0.478 0.632840    \nOverall_QualExcellent                                  2.224 0.026205 *  \nOverall_QualVery_Excellent                             3.670 0.000247 ***\nOverall_CondPoor                                      -0.581 0.561571    \nOverall_CondFair                                      -0.761 0.446667    \nOverall_CondBelow_Average                              0.297 0.766709    \nOverall_CondAverage                                    1.035 0.300889    \nOverall_CondAbove_Average                              1.516 0.129637    \nOverall_CondGood                                       2.191 0.028570 *  \nOverall_CondVery_Good                                  2.448 0.014427 *  \nOverall_CondExcellent                                  3.012 0.002621 ** \nYear_Built                                             7.628 3.30e-14 ***\nYear_Remod_Add                                         1.886 0.059456 .  \nRoof_StyleGable                                        0.923 0.355859    \nRoof_StyleGambrel                                      0.430 0.667298    \nRoof_StyleHip                                          0.941 0.346657    \nRoof_StyleMansard                                     -0.208 0.834869    \nRoof_StyleShed                                         1.627 0.103774    \nRoof_MatlCompShg                                      21.816  < 2e-16 ***\nRoof_MatlMembran                                      18.489  < 2e-16 ***\nRoof_MatlMetal                                        18.121  < 2e-16 ***\nRoof_MatlRoll                                         18.092  < 2e-16 ***\nRoof_MatlTar&Grv                                      21.083  < 2e-16 ***\nRoof_MatlWdShake                                      20.977  < 2e-16 ***\nRoof_MatlWdShngl                                      22.533  < 2e-16 ***\nExterior_1stAsphShn                                   -0.512 0.608628    \nExterior_1stBrkComm                                    0.583 0.559609    \nExterior_1stBrkFace                                    1.757 0.078963 .  \nExterior_1stCBlock                                    -0.208 0.835620    \nExterior_1stCemntBd                                    0.097 0.922645    \nExterior_1stHdBoard                                   -0.811 0.417672    \nExterior_1stImStucc                                   -1.053 0.292646    \nExterior_1stMetalSd                                    0.180 0.857391    \nExterior_1stPlywood                                   -0.573 0.566459    \nExterior_1stPreCast                                    2.721 0.006546 ** \nExterior_1stStone                                     -0.123 0.901903    \nExterior_1stStucco                                     0.153 0.878379    \nExterior_1stVinylSd                                   -1.140 0.254581    \nExterior_1stWd Sdng                                   -0.390 0.696484    \nExterior_1stWdShing                                   -0.766 0.443939    \nExterior_2ndAsphShn                                    0.942 0.346090    \nExterior_2ndBrk Cmn                                   -0.027 0.978130    \nExterior_2ndBrkFace                                   -0.052 0.958419    \nExterior_2ndCBlock                                     0.396 0.692463    \nExterior_2ndCmentBd                                    0.019 0.984962    \nExterior_2ndHdBoard                                    0.670 0.502611    \nExterior_2ndImStucc                                    0.908 0.364189    \nExterior_2ndMetalSd                                    0.123 0.901947    \nExterior_2ndOther                                     -0.486 0.627289    \nExterior_2ndPlywood                                    0.429 0.667642    \nExterior_2ndPreCast                                       NA       NA    \nExterior_2ndStone                                     -0.444 0.657012    \nExterior_2ndStucco                                     0.380 0.703769    \nExterior_2ndVinylSd                                    1.349 0.177584    \nExterior_2ndWd Sdng                                    0.543 0.586957    \nExterior_2ndWd Shng                                    0.861 0.389179    \nMas_Vnr_TypeBrkFace                                    0.687 0.491974    \nMas_Vnr_TypeCBlock                                    -2.626 0.008687 ** \nMas_Vnr_TypeNone                                       1.489 0.136620    \nMas_Vnr_TypeStone                                      1.764 0.077872 .  \nMas_Vnr_Area                                           5.212 2.01e-07 ***\nExter_QualFair                                        -0.992 0.321364    \nExter_QualGood                                        -3.128 0.001781 ** \nExter_QualTypical                                     -3.166 0.001563 ** \nExter_CondFair                                         0.133 0.894313    \nExter_CondGood                                         0.466 0.641584    \nExter_CondPoor                                        -0.473 0.636592    \nExter_CondTypical                                      0.770 0.441422    \nFoundationCBlock                                      -0.044 0.964923    \nFoundationPConc                                        0.759 0.447809    \nFoundationSlab                                        -0.535 0.592540    \nFoundationStone                                        1.533 0.125300    \nFoundationWood                                        -1.765 0.077632 .  \nBsmt_QualFair                                         -2.619 0.008876 ** \nBsmt_QualGood                                         -6.067 1.49e-09 ***\nBsmt_QualNo_Basement                                   0.462 0.644110    \nBsmt_QualPoor                                         -0.445 0.656426    \nBsmt_QualTypical                                      -4.208 2.66e-05 ***\nBsmt_CondFair                                          0.104 0.917456    \nBsmt_CondGood                                          0.064 0.949340    \nBsmt_CondNo_Basement                                      NA       NA    \nBsmt_CondPoor                                         -0.079 0.937387    \nBsmt_CondTypical                                       0.058 0.953748    \nBsmt_ExposureGd                                        5.400 7.27e-08 ***\nBsmt_ExposureMn                                       -3.124 0.001804 ** \nBsmt_ExposureNo                                       -3.371 0.000760 ***\nBsmt_ExposureNo_Basement                              -0.910 0.362864    \nBsmtFin_Type_1BLQ                                     -0.588 0.556851    \nBsmtFin_Type_1GLQ                                     -0.261 0.793901    \nBsmtFin_Type_1LwQ                                     -0.753 0.451749    \nBsmtFin_Type_1No_Basement                                 NA       NA    \nBsmtFin_Type_1Rec                                     -0.632 0.527562    \nBsmtFin_Type_1Unf                                     -0.459 0.646019    \nBsmtFin_SF_1                                           0.552 0.581307    \nBsmtFin_Type_2BLQ                                     -1.703 0.088640 .  \nBsmtFin_Type_2GLQ                                      1.293 0.196168    \nBsmtFin_Type_2LwQ                                     -2.435 0.014959 *  \nBsmtFin_Type_2No_Basement                             -1.223 0.221477    \nBsmtFin_Type_2Rec                                     -2.126 0.033570 *  \nBsmtFin_Type_2Unf                                     -1.007 0.314011    \nBsmtFin_SF_2                                          -1.225 0.220638    \nBsmt_Unf_SF                                          -10.683  < 2e-16 ***\nTotal_Bsmt_SF                                         12.912  < 2e-16 ***\nHeatingGasA                                            0.484 0.628535    \nHeatingGasW                                            0.442 0.658440    \nHeatingGrav                                            0.342 0.732318    \nHeatingOthW                                           -0.491 0.623617    \nHeatingWall                                            0.835 0.404054    \nHeating_QCFair                                        -1.698 0.089694 .  \nHeating_QCGood                                        -1.360 0.174078    \nHeating_QCPoor                                        -1.023 0.306487    \nHeating_QCTypical                                     -2.540 0.011153 *  \nCentral_AirY                                          -1.269 0.204691    \nElectricalFuseF                                       -0.377 0.705917    \nElectricalFuseP                                       -0.215 0.829748    \nElectricalMix                                          1.065 0.286828    \nElectricalSBrkr                                       -0.490 0.624012    \nElectricalUnknown                                      0.261 0.794401    \nFirst_Flr_SF                                          15.597  < 2e-16 ***\nSecond_Flr_SF                                         17.377  < 2e-16 ***\nLow_Qual_Fin_SF                                        2.857 0.004309 ** \nGr_Liv_Area                                               NA       NA    \nBsmt_Full_Bath                                         1.283 0.199468    \nBsmt_Half_Bath                                        -0.093 0.925692    \nFull_Bath                                              2.902 0.003737 ** \nHalf_Bath                                              1.941 0.052388 .  \nBedroom_AbvGr                                         -3.292 0.001010 ** \nKitchen_AbvGr                                         -2.169 0.030203 *  \nKitchen_QualFair                                      -4.155 3.36e-05 ***\nKitchen_QualGood                                      -5.616 2.16e-08 ***\nKitchen_QualPoor                                       0.983 0.325452    \nKitchen_QualTypical                                   -5.646 1.82e-08 ***\nTotRms_AbvGrd                                          1.197 0.231386    \nFunctionalMaj2                                         0.012 0.990561    \nFunctionalMin1                                         2.588 0.009703 ** \nFunctionalMin2                                         1.985 0.047226 *  \nFunctionalMod                                          1.154 0.248566    \nFunctionalSal                                         -0.461 0.644950    \nFunctionalSev                                         -0.865 0.387064    \nFunctionalTyp                                          4.134 3.67e-05 ***\nFireplaces                                             4.963 7.38e-07 ***\nFireplace_QuFair                                      -0.835 0.404047    \nFireplace_QuGood                                      -0.086 0.931535    \nFireplace_QuNo_Fireplace                               1.317 0.187833    \nFireplace_QuPoor                                       0.044 0.964702    \nFireplace_QuTypical                                   -0.338 0.735440    \nGarage_TypeBasment                                     0.308 0.758221    \nGarage_TypeBuiltIn                                    -0.385 0.700385    \nGarage_TypeCarPort                                    -0.735 0.462653    \nGarage_TypeDetchd                                     -0.062 0.950923    \nGarage_TypeMore_Than_Two_Types                        -2.400 0.016468 *  \nGarage_TypeNo_Garage                                   0.620 0.535284    \nGarage_FinishNo_Garage                                -0.955 0.339685    \nGarage_FinishRFn                                      -1.232 0.218061    \nGarage_FinishUnf                                       0.283 0.776873    \nGarage_Cars                                            2.631 0.008554 ** \nGarage_Area                                            2.951 0.003190 ** \nGarage_QualFair                                       -2.944 0.003265 ** \nGarage_QualGood                                       -2.262 0.023769 *  \nGarage_QualNo_Garage                                      NA       NA    \nGarage_QualPoor                                       -2.658 0.007919 ** \nGarage_QualTypical                                    -2.896 0.003811 ** \nGarage_CondFair                                        1.996 0.046007 *  \nGarage_CondGood                                        1.717 0.086110 .  \nGarage_CondNo_Garage                                      NA       NA    \nGarage_CondPoor                                        1.826 0.067971 .  \nGarage_CondTypical                                     2.157 0.031109 *  \nPaved_DrivePartial_Pavement                           -0.606 0.544267    \nPaved_DrivePaved                                      -0.231 0.817059    \nWood_Deck_SF                                           2.087 0.036959 *  \nOpen_Porch_SF                                          0.122 0.902892    \nEnclosed_Porch                                         1.430 0.152938    \nThree_season_porch                                     1.189 0.234387    \nScreen_Porch                                           5.867 4.98e-09 ***\nPool_Area                                             -0.329 0.742255    \nPool_QCFair                                           -1.495 0.134919    \nPool_QCGood                                           -1.442 0.149390    \nPool_QCNo_Pool                                        -3.644 0.000273 ***\nPool_QCTypical                                        -3.762 0.000172 ***\nFenceGood_Wood                                         0.723 0.469964    \nFenceMinimum_Privacy                                   1.144 0.252553    \nFenceMinimum_Wood_Wire                                -0.059 0.952938    \nFenceNo_Fence                                          0.390 0.696682    \nMisc_FeatureGar2                                      19.240  < 2e-16 ***\nMisc_FeatureNone                                      15.202  < 2e-16 ***\nMisc_FeatureOthr                                      16.452  < 2e-16 ***\nMisc_FeatureShed                                      15.585  < 2e-16 ***\nMisc_FeatureTenC                                      10.692  < 2e-16 ***\nMisc_Val                                               0.566 0.571768    \nMo_Sold                                               -0.914 0.360556    \nYear_Sold                                             -1.722 0.085255 .  \nSale_TypeCon                                           2.846 0.004458 ** \nSale_TypeConLD                                         1.201 0.229960    \nSale_TypeConLI                                        -0.525 0.599439    \nSale_TypeConLw                                         0.640 0.522059    \nSale_TypeCWD                                           1.050 0.294015    \nSale_TypeNew                                           1.274 0.202605    \nSale_TypeOth                                           0.552 0.581301    \nSale_TypeVWD                                          -0.285 0.775817    \nSale_TypeWD                                            0.780 0.435701    \nSale_ConditionAdjLand                                  2.914 0.003602 ** \nSale_ConditionAlloca                                   2.419 0.015614 *  \nSale_ConditionFamily                                   0.806 0.420044    \nSale_ConditionNormal                                   4.704 2.68e-06 ***\nSale_ConditionPartial                                  0.909 0.363618    \nLongitude                                              0.455 0.648861    \nLatitude                                               2.299 0.021611 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 20770 on 2630 degrees of freedom\nMultiple R-squared:  0.9393,\tAdjusted R-squared:  0.9324 \nF-statistic: 136.1 on 299 and 2630 DF,  p-value: < 2.2e-16\n```\n:::\n:::\n\n\n\n**Note** explain a linear model here?\n\n\n### A more powerful and flexible set of tools for predictive modeling - tidymodels\n\nWhen you type library(tidymodels), you load a collection of packages for modeling and machine learning using tidyverse principles. All the packages are designed to be consistent, modular, and to support good modeling practices. The first thing we are going to practice is splitting your data into a training set and a testing set. The tidymodels package `rsample` has functions that help you specify training and testing sets.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42) #so we all get the same results\names_split <- ameshousing %>%\n    initial_split(prop = 0.8,\n                  strata = Sale_Price)\n\names_train <- training(ames_split)\names_test <- testing(ames_split)\n\nsaveRDS(ames_train, \"../_models/ames_train.Rds\")\nsaveRDS(ames_test, \"../_models/ames_test.Rds\")\n```\n:::\n\n\nThe code here takes an input data set and puts 80% of it into a training dataset and 20% of it into a testing dataset; it chooses the individual cases so that both sets are balanced in selling price.\n\n### Train the model\n\nIn tidymodels, you specify models using three concepts.\n\n- Model **type** differentiates models such as logistic regression, decision tree models, and so forth;\n- Model **mode** includes common options like regression and classification, some model types support either of these while some only have one mode;\n- Model **engine** is the computational tool which will be used to fit the model. \n\nWe will specify the model using the `parsnip` package - Many functions have different interfaces and arguments names and parsnip standardizes the interface for fitting models as well as the return values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_model <- linear_reg() %>% #pick a model\n  set_engine(\"lm\")           #set the engine\n#set_mode(\"regression\") we don't need this as the model linear_reg() only does regression\n\n#view model properties\nlm_model\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nLinear Regression Model Specification (regression)\n\nComputational engine: lm \n```\n:::\n:::\n\n\n\nAfter a model has been specified, it can be fit, typically using a symbolic description of the model (a formula) and some data. We're going to start fitting models with `data = ames_train`, as shown here. This means we're saying, \"Just fit the model one time, on the whole training set\". Once you have fit your model, you can evaluate how well the model is performing.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit <- lm_model %>%\n  fit(log(Sale_Price) ~ .,\n      data = ames_train)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}